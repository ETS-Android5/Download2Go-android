<!DOCTYPE html>
<!-- NewPage -->
<html lang="en" class="fancy">
<head>
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet2.css" title="Style">
<script type="text/javascript" src="../../../../../../doc2.js"></script>
<script type="text/javascript">var pathSeparator = "/";
var rootPath = "../../../../../../";
var currentPackage = "com.penthera.virtuoso.exoplayer.ext.ima";
var currentPackage = "com.penthera.virtuoso.exoplayer.ext.ima";
var currentClass = "ImaResourceCache";
</script>
<script type="text/javascript" src="package-contents.js"></script>
</head>
<body class="contentPage classPage">
<div id="innerBody">
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ImaResourceCache (Download2Go Android ExoPlayer IMA Support Library)";
    }
//-->
</script>
<noscript>
<div>This web site requires JavaScript for proper operation. JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="navBar hidden" id="topNavBar">
<div class="navigationLine1">
<div class="navigationLinks">
<div class="navBarButton active"><a href="../../../../../../com/penthera/virtuoso/exoplayer/ext/ima/package-summary.html">Package</a></div>
<div class="navBarButton inactive selected"><a href>Class</a></div>
<div class="navBarButton active"><a href="package-tree.html">Tree</a></div>
<div class="navBarButton active"><a href="../../../../../../deprecated-list.html">Deprecated</a></div>
<div class="navBarButton active"><a href="../../../../../../index-all.html">Index</a></div>
<div class="navBarButton active"><a href="../../../../../../allclasses-noframe.html">All Classes</a></div>
<div class="navBarButton active"><a href="../../../../../../help-doc.html">Help</a></div>
</div>
<div class="pageControls">
<div class="navBarButton active"><a href="ImaAdsLoader.Builder.html"><span class="strong">Prev Class</span></a></div>
<div class="navBarButton active"><a href="ImaWebviewInterceptor.html"><span class="strong">Next Class</span></a></div>
</div>
<select id="packageClassSelector">
<option value selected="selected">classes...</option>
</select>
</div>
<div class="pageTitle"><span>Class <span class="packagePrefix">com.penthera.virtuoso.exoplayer.ext.ima</span>.ImaResourceCache</span></div>
<div class="navigationLine2">
<div class="inheritedMembersSelector">Inherited members: <span class="radioButton" id="showInheritedMembersSelector" onclick="setInheritedVisible(true)">Show</span><span class="radioButton" id="hideInheritedMembersSelector" onclick="setInheritedVisible(false)">Hide</span></div>
<div class="deprecatedSelector">Deprecated: <span class="radioButton" id="showDeprecatedSelector" onclick="setDeprecatedVisible(true)">Show</span><span class="radioButton" id="hideDeprecatedSelector" onclick="setDeprecatedVisible(false)">Hide</span></div>
<span class="accessViewSelectors">View: <span class="radioButton" id="clientViewSelector" onclick="showClientView();">Client</span><span class="radioButton" id="subclassViewSelector" onclick="showSubclassView();">Subclass</span><span class="radioButton" id="packageViewSelector" onclick="showPackageView();">Package</span><span class="radioButton" id="implementationViewSelector" onclick="showImplementationView();">Implementation</span></span>
<div class="entitySelectors">
<select id="classSelector">
<option value selected="selected">classes...</option>
</select>
<select id="enumConstantSelector">
<option value selected="selected">enum constants...</option>
</select>
<select id="fieldSelector">
<option value selected="selected">fields...</option>
</select>
<select id="staticMethodSelector">
<option value selected="selected">static methods...</option>
</select>
<select id="constructorSelector">
<option value selected="selected">constructors...</option>
</select>
<select id="methodSelector">
<option value selected="selected">methods...</option>
</select>
<select id="propertySelector">
<option value selected="selected">properties...</option>
</select>
</div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div id="dataArea" class="hidden">
<div id="content">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.penthera.virtuoso.exoplayer.ext.ima</div>
<h2 title="Class ImaResourceCache" class="title">Class ImaResourceCache</h2>
</div>
<div class="contentContainer">
<div class="classInheritance">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.penthera.virtuoso.exoplayer.ext.ima.ImaResourceCache</li>
</ul>
</li>
</ul>
</div>
<div class="description">
<ul class="blockList">
<li class="blockList">
<div class="classSignature">public class <span class="strong">ImaResourceCache</span>
extends java.lang.Object</div>
<div class="block">Simple cache class for web requests that stores http request details in shared preferences and
 files in a folder. Designed for low throughput and small number of items, not very sophisticated.
 No cache time limits. No size limitations on in-memory caching of basic details.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<table class="overviewSummary summaryTable memberSummary constructorElementList" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption class="tableHeader"><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr class="columnHeaders">
<th class="colFirst" scope="col"> </th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="member constructor public">
<td class="memberMarker colFirst"><img src="../../../../../../resources/ordinaryMember.gif" width="11" height="13" alt="Ordinary member indicator" class="ordinaryMember"></td>
<td class="itemNameCell"><a name="ImaResourceCache(android.content.Context)" class="memberAnchor"></a><span onmouseover="overItemName(this, true);" onmouseout="overItemName(this, false);"><span class="itemTitle">ImaResourceCache</span>&nbsp;<span onclick="toggleFullDescription(this);return false;"><img src="../../../../../../resources/collapsed.gif" width="9" height="9" alt="Reveal Detail" class="revealDetail"><img src="../../../../../../resources/expanded.gif" width="9" height="9" alt="Hide Detail" class="hideDetail"></span></span></td>
<td class="descriptionContainer colLast">
<div class="descriptionOverview">
<div class="signature hidden rollover"><span class="itemTitle">ImaResourceCache</span>(android.content.Context&nbsp;context)</div>
<div class="block">&nbsp;</div>
</div>
<div class="descriptionDetail hidden">
<div class="signature">public&nbsp;<span class="itemTitle">ImaResourceCache</span>(android.content.Context&nbsp;context)</div>
</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<table class="overviewSummary summaryTable memberSummary methodElementList" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption class="tableHeader"><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr class="columnHeaders">
<th class="colFirst" scope="col"> </th>
<th scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="member method public">
<td class="memberMarker colFirst"><img src="../../../../../../resources/ordinaryMember.gif" width="11" height="13" alt="Ordinary member indicator" class="ordinaryMember"></td>
<td class="itemNameCell"><a name="cacheResource(java.lang.String, java.lang.String, java.lang.String, int, java.util.Map, okio.BufferedSource, long)" class="memberAnchor"></a><span onmouseover="overItemName(this, true);" onmouseout="overItemName(this, false);"><span class="itemTitle">cacheResource</span>&nbsp;<span onclick="toggleFullDescription(this);return false;"><img src="../../../../../../resources/collapsed.gif" width="9" height="9" alt="Reveal Detail" class="revealDetail"><img src="../../../../../../resources/expanded.gif" width="9" height="9" alt="Hide Detail" class="hideDetail"></span></span></td>
<td class="descriptionContainer colLast">
<div class="descriptionOverview">
<div class="signature hidden rollover"><code>okio.BufferedSource&nbsp;</code><span class="itemTitle">cacheResource</span>(java.lang.String&nbsp;hash,
             java.lang.String&nbsp;mimeType,
             java.lang.String&nbsp;encoding,
             int&nbsp;responseCode,
             java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;responseHeaders,
             okio.BufferedSource&nbsp;source,
             long&nbsp;expectedSize)</div>
<div class="block">Cache a resource to disk for offline use.</div>
</div>
<div class="descriptionDetail hidden">
<div class="signature">public&nbsp;okio.BufferedSource&nbsp;<span class="itemTitle">cacheResource</span>(java.lang.String&nbsp;hash,
                                java.lang.String&nbsp;mimeType,
                                java.lang.String&nbsp;encoding,
                                int&nbsp;responseCode,
                                java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;responseHeaders,
                                okio.BufferedSource&nbsp;source,
                                long&nbsp;expectedSize)</div>
<dl>
<dd>
<div class="block">Cache a resource to disk for offline use. Provide the incoming stream which needs to be returned to the webview,
 this class will mirror the stream and write the mirror to file. This method returns the modified original stream to be
 passed through to the webview.</div>
<dl class="tagSection"><dt><span class="strong">Parameters:</span></dt><dd><code>hash</code> - Unique hash used to reference the URL being cached</dd><dd><code>mimeType</code> - Mime type returned by the server.</dd><dd><code>encoding</code> - Character encoding returned by the server.</dd><dd><code>responseCode</code> - Response code returned by the server, supports 200 and 204.</dd><dd><code>responseHeaders</code> - Response headers returned by the server.</dd><dd><code>source</code> - The Okio source containing the inputstream from the server</dd><dd><code>expectedSize</code> - The expected size returned from the server where available, -1 otherwise.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The buffered source to be returned to the webview.</dd></dl>
</dd>
</dl>
</div>
</td>
</tr>
<tr class="member method public">
<td class="memberMarker colFirst"><img src="../../../../../../resources/ordinaryMember.gif" width="11" height="13" alt="Ordinary member indicator" class="ordinaryMember"></td>
<td class="itemNameCell"><a name="getLastModifiedForHash(java.lang.String)" class="memberAnchor"></a><span onmouseover="overItemName(this, true);" onmouseout="overItemName(this, false);"><span class="itemTitle">getLastModifiedForHash</span>&nbsp;<span onclick="toggleFullDescription(this);return false;"><img src="../../../../../../resources/collapsed.gif" width="9" height="9" alt="Reveal Detail" class="revealDetail"><img src="../../../../../../resources/expanded.gif" width="9" height="9" alt="Hide Detail" class="hideDetail"></span></span></td>
<td class="descriptionContainer colLast">
<div class="descriptionOverview">
<div class="signature hidden rollover"><code>java.lang.String&nbsp;</code><span class="itemTitle">getLastModifiedForHash</span>(java.lang.String&nbsp;hash)</div>
<div class="block">Check if a hash exists in the cache and return the last modified header if available.</div>
</div>
<div class="descriptionDetail hidden">
<div class="signature">public&nbsp;java.lang.String&nbsp;<span class="itemTitle">getLastModifiedForHash</span>(java.lang.String&nbsp;hash)</div>
<dl>
<dd>
<div class="block">Check if a hash exists in the cache and return the last modified header if available.</div>
<dl class="tagSection"><dt><span class="strong">Parameters:</span></dt><dd><code>hash</code> - Unique hash used to reference the URL that was cached</dd>
<dt><span class="strong">Returns:</span></dt><dd>The last modified date header string value if the asset is cached and that header is available, null otherwise</dd></dl>
</dd>
</dl>
</div>
</td>
</tr>
<tr class="member method public">
<td class="memberMarker colFirst"><img src="../../../../../../resources/ordinaryMember.gif" width="11" height="13" alt="Ordinary member indicator" class="ordinaryMember"></td>
<td class="itemNameCell"><a name="getResponseForHash(java.lang.String)" class="memberAnchor"></a><span onmouseover="overItemName(this, true);" onmouseout="overItemName(this, false);"><span class="itemTitle">getResponseForHash</span>&nbsp;<span onclick="toggleFullDescription(this);return false;"><img src="../../../../../../resources/collapsed.gif" width="9" height="9" alt="Reveal Detail" class="revealDetail"><img src="../../../../../../resources/expanded.gif" width="9" height="9" alt="Hide Detail" class="hideDetail"></span></span></td>
<td class="descriptionContainer colLast">
<div class="descriptionOverview">
<div class="signature hidden rollover"><code>android.webkit.WebResourceResponse&nbsp;</code><span class="itemTitle">getResponseForHash</span>(java.lang.String&nbsp;hash)</div>
<div class="block">Return a WebResourceResponse if a cached version of the hash is available.</div>
</div>
<div class="descriptionDetail hidden">
<div class="signature">public&nbsp;android.webkit.WebResourceResponse&nbsp;<span class="itemTitle">getResponseForHash</span>(java.lang.String&nbsp;hash)</div>
<dl>
<dd>
<div class="block">Return a WebResourceResponse if a cached version of the hash is available. The response will contain
 the originally stored headers and a file inputstream for the content.</div>
<dl class="tagSection"><dt><span class="strong">Parameters:</span></dt><dd><code>hash</code> - Unique hash used to reference the URL that was cached</dd>
<dt><span class="strong">Returns:</span></dt><dd>The full web response for the WebView if available</dd></dl>
</dd>
</dl>
</div>
</td>
</tr>
<tr class="member method public">
<td class="memberMarker colFirst"><img src="../../../../../../resources/ordinaryMember.gif" width="11" height="13" alt="Ordinary member indicator" class="ordinaryMember"></td>
<td class="itemNameCell"><a name="release()" class="memberAnchor"></a><span onmouseover="overItemName(this, true);" onmouseout="overItemName(this, false);"><span class="itemTitle">release</span>&nbsp;<span onclick="toggleFullDescription(this);return false;"><img src="../../../../../../resources/collapsed.gif" width="9" height="9" alt="Reveal Detail" class="revealDetail"><img src="../../../../../../resources/expanded.gif" width="9" height="9" alt="Hide Detail" class="hideDetail"></span></span></td>
<td class="descriptionContainer colLast">
<div class="descriptionOverview">
<div class="signature hidden rollover"><code>void&nbsp;</code><span class="itemTitle">release</span>()</div>
<div class="block">Release must be called upon completion to shut down the background threads.</div>
</div>
<div class="descriptionDetail hidden">
<div class="signature">public&nbsp;void&nbsp;<span class="itemTitle">release</span>()</div>
<dl>
<dd>
<div class="block">Release must be called upon completion to shut down the background threads.</div>
</dd>
</dl>
</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList inheritedMemberSummary summaryTable"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3 class="tableHeader">Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</div>
</div>
</div>
</body>
</html>
